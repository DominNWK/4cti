<!DOCTYPE html>
<html lang="pl">
<head>
	<title>Chatbox</title>
	<meta charset="utf-8">
</head>
	<body>
		<form>
			<h2>ChatBox</h2>
			<div style="text-overflow: ellipsis; overflow-y:auto;overflow-x:hidden; width:300px; height:300px; border:1px solid black; border-radius:10px;" id="msgBox"></div>
			<textarea style="margin-top:1px; float:left; border-radius:10px; width:250px; height:50px; resize:none;" id="chatMsgTS"></textarea><button style="border-radius:10px; height:50px;" onclick="send()" type="button" id="sendBt">SEND</button>
			<p id="check"></p>
		</form>
		<script>
			chatMsgTS.onkeydown=function(){
				if(event.keyCode==13){
					if(chatMsgTS.value==""){
						check.innerHTML="Write something!";
						chatMsgTS.value="";
						}
					else{
						send();
						chatMsgTS.value="";
						}
				}
			}
			function send(){
				if(chatMsgTS.value!=""){
					let height=msgBox.scrollHeight;
					check.innerHTML="";
					var data=new Date();
					var day=data.getDate();
					let month=data.getMonth()+1;
					let minute=data.getMinutes();
					let hour=data.getHours();
					let second=data.getSeconds();
					let zero="0";
					if(day<10) day=zero+day;
					if(month<10) month=zero+month;
					if(minute<10) minute=zero+minute;
					if(hour<10) hour=zero+hour;
					if(second<10) second=zero+second;
					msgBox.innerHTML+="<p id='message'>"+day+"."+month+"."+data.getFullYear()+" "+hour+":"+minute+":"+second+" User: "+chatMsgTS.value+"</p><hr>";
					chatMsgTS.value="";
					msgBox.scrollTo(0,  height);
				
				}
				else{
					let height=msgBox.scrollHeight;
					check.innerHTML="Write something!";
					msgBox.scrollTo(0,  height);
				}
			}
		</script>
	</body>
</html>
